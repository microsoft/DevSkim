# Azure Pipelines
# https://aka.ms/yaml

name: DevSkim_CLI_PR_$(SourceBranchName)_$(Date:yyyyMMdd)$(Rev:.r)
trigger: none
pr:
  branches:
    include:
    - main
  paths:
    include: ['*.md']

resources:
  repositories:
    - repository: templates
      type: git
      name: SecurityEngineering/OSS-Tools-Pipeline-Templates
      ref: refs/tags/v1.0.6

stages:
- stage: Test
  dependsOn: []
  jobs:
  - template: dotnet-test-job.yml@templates
    parameters:
      jobName: 'dotnet_test_windows'
      dotnetVersion: 7.0.x
      dotnetVersionLTS: 6.0.x
      vmImage: 'oss-tools-win2022_1es-managed'
      projectPath: 'DevSkim-DotNet/Microsoft.DevSkim.Tests/Microsoft.DevSkim.Tests.csproj'
