import{r as m}from"./chunk-5XLKQJ5Y.min.js";import{A as x,K as w,N as h,a as I,y as L,z as b}from"./chunk-F2VOIZPW.min.js";import{a as T,b as C,f as o}from"./chunk-JL6ISKUC.min.js";import{d as v}from"./chunk-CCEUEXYU.min.js";function $(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var r=Array.from(typeof e=="string"?[e]:e);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var c=r.reduce(function(n,i){var d=i.match(/\n([\t ]+|(?!\s).)/g);return d?n.concat(d.map(function(g){var u,l;return(l=(u=g.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&l!==void 0?l:0})):n},[]);if(c.length){var p=new RegExp(`
[	 ]{`+Math.min.apply(Math,c)+"}","g");r=r.map(function(n){return n.replace(p,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var s=r[0];return t.forEach(function(n,i){var d=s.match(/(?:^|\n)( *)$/),g=d?d[1]:"",u=n;typeof n=="string"&&n.includes(`
`)&&(u=String(n).split(`
`).map(function(l,M){return M===0?l:""+g+l}).join(`
`)),s+=u+r[i+1]}),s}var O=$;var B=v(T(),1),J=v(C(),1);var K=v(I(),1);var z=(e,t,a)=>{o.warn(e),w(e)?(a&&a(e.str,e.hash),t.push({...e,message:e.str,error:e})):(a&&a(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},S=async function(e={querySelector:".mermaid"}){try{await H(e)}catch(t){if(w(t)&&o.error(t.str),f.parseError&&f.parseError(t),!e.suppressErrors)throw o.error("Use the suppressErrors option to suppress these errors"),t}},H=async function({postRenderCallback:e,querySelector:t,nodes:a}={querySelector:".mermaid"}){let r=m.getConfig();o.debug(`${e?"":"No "}Callback function found`);let c;if(a)c=a;else if(t)c=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");o.debug(`Found ${c.length} diagrams`),r?.startOnLoad!==void 0&&(o.debug("Start On Load: "+r?.startOnLoad),m.updateSiteConfig({startOnLoad:r?.startOnLoad}));let p=new h.initIdGenerator(r.deterministicIds,r.deterministicIDSeed),s,n=[];for(let i of Array.from(c)){o.info("Rendering diagram: "+i.id);if(i.getAttribute("data-processed"))continue;i.setAttribute("data-processed","true");let d=`mermaid-${p.next()}`;s=i.innerHTML,s=O(h.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let g=h.detectInit(s);g&&o.debug("Detected early reinit: ",g);try{let{svg:u,bindFunctions:l}=await A(d,s,i);i.innerHTML=u,e&&await e(d),l&&l(i)}catch(u){z(u,n,f.parseError)}}if(n.length>0)throw n[0]},P=function(e){m.initialize(e)},Q=async function(e,t,a){o.warn("mermaid.init is deprecated. Please use run instead."),e&&P(e);let r={postRenderCallback:a,querySelector:".mermaid"};typeof t=="string"?r.querySelector=t:t&&(t instanceof HTMLElement?r.nodes=[t]:r.nodes=t),await S(r)},R=async(e,{lazyLoad:t=!0}={})=>{b(...e),t===!1&&await x()},D=function(){if(f.startOnLoad){let{startOnLoad:e}=m.getConfig();e&&f.run().catch(t=>o.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){window.addEventListener("load",D,!1)}var F=function(e){f.parseError=e},y=[],E=!1,q=async()=>{if(!E){for(E=!0;y.length>0;){let e=y.shift();if(e)try{await e()}catch(t){o.error("Error executing queue",t)}}E=!1}},G=async(e,t)=>new Promise((a,r)=>{let c=()=>new Promise((p,s)=>{m.parse(e,t).then(n=>{p(n),a(n)},n=>{var i;o.error("Error parsing",n),(i=f.parseError)==null||i.call(f,n),s(n),r(n)})});y.push(c),q().catch(r)}),A=(e,t,a)=>new Promise((r,c)=>{let p=()=>new Promise((s,n)=>{m.render(e,t,a).then(i=>{s(i),r(i)},i=>{var d;o.error("Error parsing",i),(d=f.parseError)==null||d.call(f,i),n(i),c(i)})});y.push(p),q().catch(c)}),f={startOnLoad:!0,mermaidAPI:m,parse:G,render:A,init:Q,run:S,registerExternalDiagrams:R,initialize:P,parseError:void 0,contentLoaded:D,setParseErrorHandler:F,detectType:L};export{f as default};
/*! Bundled license information:

mermaid/dist/mermaid.core.mjs:
  (*! Check if previously processed *)
  (*!
   * Wait for document loaded before starting the execution
   *)
*/
//# sourceMappingURL=mermaid.core-UUCMRZ66.min.js.map
