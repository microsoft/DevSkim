import{a as Y,b as y,c as Z}from"./chunk-K7ZSMX4X.min.js";import{b as h}from"./chunk-6VUBUJZO.min.js";import{a as H,b as X}from"./chunk-CKZNVD2G.min.js";import"./chunk-O63KHJZD.min.js";import"./chunk-5XLKQJ5Y.min.js";import{a as v,p as W}from"./chunk-F2VOIZPW.min.js";import{J as g,a as $,b as B,f as a,u as L}from"./chunk-JL6ISKUC.min.js";import{d as k}from"./chunk-CCEUEXYU.min.js";var _=k($(),1);var q=k(B(),1);var K=k(v(),1);var u={},m=20,p=function(e){let i=Object.entries(u).find(x=>x[1].label===e);if(i)return i[0]},A=function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},C=function(e,i,x,o){let c=L().class;u={},a.info("Rendering diagram "+e);let E=L().securityLevel,b;E==="sandbox"&&(b=g("#i"+i));let w=E==="sandbox"?g(b.nodes()[0].contentDocument.body):g("body"),n=w.select(`[id='${i}']`);A(n);let r=new H({multigraph:!0});r.setGraph({isMultiGraph:!0}),r.setDefaultEdgeLabel(function(){return{}});let l=o.db.getClasses(),D=Object.keys(l);for(let t of D){let d=l[t],s=h.drawClass(n,d,c,o);u[s.id]=s,r.setNode(s.id,s),a.info("Org height: "+s.height)}o.db.getRelations().forEach(function(t){a.info("tjoho"+p(t.id1)+p(t.id2)+JSON.stringify(t)),r.setEdge(p(t.id1),p(t.id2),{relation:t},t.title||"DEFAULT")}),o.db.getNotes().forEach(function(t){a.debug(`Adding note: ${JSON.stringify(t)}`);let d=h.drawNote(n,t,c,o);u[d.id]=d,r.setNode(d.id,d),t.class&&t.class in l&&r.setEdge(t.id,p(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),X(r),r.nodes().forEach(function(t){t!==void 0&&r.node(t)!==void 0&&(a.debug("Node "+t+": "+JSON.stringify(r.node(t))),w.select("#"+(o.db.lookUpDomId(t)||t)).attr("transform","translate("+(r.node(t).x-r.node(t).width/2)+","+(r.node(t).y-r.node(t).height/2)+" )"))}),r.edges().forEach(function(t){t!==void 0&&r.edge(t)!==void 0&&(a.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(r.edge(t))),h.drawEdge(n,r.edge(t),r.edge(t).relation,c,o))});let f=n.node().getBBox(),M=f.width+m*2,S=f.height+m*2;W(n,S,M,c.useMaxWidth);let N=`${f.x-m} ${f.y-m} ${M} ${S}`;a.debug(`viewBox ${N}`),n.attr("viewBox",N)},G={draw:C},P={parser:Y,db:y,renderer:G,styles:Z,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,y.clear()}};export{P as diagram};
//# sourceMappingURL=classDiagram-634fc78b-4ON4ZKE4.min.js.map
